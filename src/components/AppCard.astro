---
import type { ImageMetadata } from "astro";
import Image from "astro/components/Image.astro";

interface Props {
  title: string;
  date: string;
  imagePath: string;
  altText: string;
}

const { title, date, imagePath, altText } = Astro.props;
const images = import.meta.glob<{ default: ImageMetadata }>("/src/assets/*.{jpeg,jpg,png,gif}");
if (!images[imagePath])
  throw new Error(`"${imagePath}" does not exist in glob: "src/assets/*.{jpeg,jpg,png,gif}"`);
---

<article class="flex flex-col gap-4 sm:flex-row sm:gap-16">
  <Image
    src={imagePath}
    alt={altText}
    loading="eager"
    width={100}
    height={100}
    class="size-[140px] rounded-xl sm:size-[160px]"
  />
  <div class="flex flex-col justify-center gap-4">
    <h2 class="text-lg font-semibold sm:text-xl" id={`article-title-${title}`}>
      {title}
    </h2>
    <p
      class="text-theme-stormy-ash text-xs font-medium sm:text-sm"
      aria-label={`Published on ${date}`}
    >
      {date}
    </p>
  </div>
</article>
